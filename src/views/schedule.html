<div class="main">
  <div class="container">
    <h1>{{ criteria().city.name }}</h1>

    <table class="table table-striped">
      <thead>
      <tr>
        <th style="width: 30%;">Term</th>
        <th style="width: 20%;">Results</th>
        <th style="width: 50%;">Colour</th>
      </tr>
      </thead>
      <tbody>
      <tr ng-repeat="term in tweets()">
        <td>{{ term.term }}</td>
        <td>{{ term.tweets.length }}</td>
        <td><span editable-select="term.colour"
          e-ng-options="colour as colour for colour in colours"
          onaftersave="save()"
          class="label label-default"
          ng-class="'bg-' + term.colour">{{ term.colour || 'black' }}</span></td>
      </tr>
      </tbody>
    </table>

    <h2 ng-repeat-start="term in tweets()">{{ term.term }}</h2>

    <table class="table table-striped" ng-repeat-end>
      <thead>
      <tr>
        <th style="width: 10%;"></th>
        <th style="width: 50%;">Tweet</th>
        <th style="width: 20%;">User</th>
        <th style="width: 20%;">Coords</th>
      </tr>
      </thead>
      <tbody>
      <tr ng-repeat="(key, tweet) in term.tweets">
        <td>{{ $index }}</td>
        <td>{{ tweet.text }}</td>
        <td>{{ tweet.user.screen_name }}</td>
        <td ng-if="tweet.geo">{{ tweet.geo.coordinates[0] }}, {{ tweet.geo.coordinates[1] }}</td>
        <td ng-if=" ! tweet.geo"></td>
      </tr>
      </tbody>
    </table>
  </div> <!-- .container -->
</div> <!-- .main -->


